(this.webpackJsonpcheckoutapp=this.webpackJsonpcheckoutapp||[]).push([[0],{25:function(e,t,c){},26:function(e,t,c){},46:function(e,t,c){"use strict";c.r(t);var n=c(2),s=c.n(n),r=c(14),a=c.n(r),i=(c(24),c(25),c(15)),o=c(16),l=c(19),d=c(18),j=(c(26),c(17)),h=c.n(j),u=c(0),b=function(e){Object(l.a)(c,e);var t=Object(d.a)(c);function c(e){var n;return Object(i.a)(this,c),(n=t.call(this,e)).refreshItems=function(){h.a.get("api/items").then((function(e){return n.setState({items:e.data})})).catch((function(e){return console.log(e)}))},n.displayCompleted=function(e){return e?n.setState({viewCompleted:!0}):n.setState({viewCompleted:!1})},n.renderInventory=function(){var e=n.state.items;return Object(u.jsxs)("div",{className:"inventory",children:[Object(u.jsxs)("div",{className:"table-header",children:[Object(u.jsx)("h1",{children:"Store Inventory"}),Object(u.jsx)("h1",{children:Object(u.jsx)("i",{className:"fas fa-warehouse"})})]}),Object(u.jsxs)("table",{className:"table table-striped table-dark table-hover",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"Item Name"}),Object(u.jsx)("th",{scope:"col",children:"Price"}),Object(u.jsx)("th",{scope:"col",children:"Tax Rate"}),Object(u.jsx)("th",{scope:"col"})]})}),Object(u.jsx)("tbody",{children:e.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"row",children:e.item_name}),Object(u.jsx)("td",{children:e.item_price.toFixed(2)}),Object(u.jsxs)("td",{children:[100*e.tax_rate,"%"]}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{className:"add",onClick:function(){return n.addItemToCart(e)},children:Object(u.jsx)("i",{className:"far fa-plus-square"})})})]})}))})]})]})},n.addItemToCart=function(e){for(var t=n.state.cartItems,c=0;c<t.length;c++)if(t[c].item===e)return t[c].count++,void n.setState({cartItems:t});var s={item:e,count:1};t.push(s),n.setState({cartItems:t})},n.removeItemFromCart=function(e){var t=n.state.cartItems;if(e.count>1)t[t.indexOf(e)].count--,n.setState({cartItems:t});else{var c=t.filter((function(t){return t!==e}));n.setState({cartItems:c})}},n.renderCart=function(){var e=n.state.cartItems;return Object(u.jsxs)("div",{className:"cart",children:[Object(u.jsxs)("div",{className:"table-header",children:[Object(u.jsx)("h1",{children:"Your Shopping Cart"}),Object(u.jsx)("h1",{children:Object(u.jsx)("i",{className:"fas fa-shopping-cart"})})]}),Object(u.jsxs)("table",{className:"table table-striped table-dark table-hover",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"Item Name"}),Object(u.jsx)("th",{scope:"col",children:"Price"}),Object(u.jsx)("th",{scope:"col",children:"Tax Rate"}),Object(u.jsx)("th",{scope:"col",children:"#"}),Object(u.jsx)("th",{scope:"col"})]})}),Object(u.jsx)("tbody",{children:e.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"row",children:e.item.item_name}),Object(u.jsx)("td",{children:e.item.item_price.toFixed(2)}),Object(u.jsxs)("td",{children:[100*e.item.tax_rate,"%"]}),Object(u.jsx)("td",{children:e.count}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{className:"remove",onClick:function(){return n.removeItemFromCart(e)},children:Object(u.jsx)("i",{className:"far fa-minus-square"})})})]})}))})]}),n.checkEmptyCart(),n.renderTotal()]})},n.renderTotal=function(){for(var e=n.state.cartItems,t=0,c=0;c<e.length;c++)t+=e[c].item.item_price*(e[c].item.tax_rate+1)*e[c].count;return n.state.discounted&&(t*=.9),Object(u.jsxs)("div",{className:"total",children:[Object(u.jsx)("span",{children:"Checkout Total:"}),Object(u.jsx)("span",{children:parseFloat(t).toFixed(2)})]})},n.checkEmptyCart=function(){if(0===n.state.cartItems.length)return Object(u.jsx)("div",{className:"empty-cart",children:Object(u.jsx)("p",{children:"Your cart is empty"})})},n.toggleDiscount=function(){n.setState({discounted:!n.state.discounted});var e=document.querySelector("discount");n.state.discounted?e.style.backgroundColor="grey":e.style.backgroundColor="gold"},n.renderDiscountButton=function(){return Object(u.jsx)("div",{className:"discount",children:Object(u.jsx)("button",{onClick:function(){return n.toggleDiscount(.9)},children:Object(u.jsx)("i",{className:"fas fa-tags"})})})},n.state={viewCompleted:!1,items:[],cartItems:[],discounted:!1},n}return Object(o.a)(c,[{key:"componentDidMount",value:function(){this.refreshItems()}},{key:"render",value:function(){return Object(u.jsxs)("div",{className:"main",children:[this.renderInventory(),this.renderCart(),this.renderDiscountButton()]})}}]),c}(n.Component),m=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,47)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),n(e),s(e),r(e),a(e)}))};a.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(b,{})}),document.getElementById("root")),m()}},[[46,1,2]]]);
//# sourceMappingURL=main.4d914667.chunk.js.map